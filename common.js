Date.locale={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},tr:{monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"]}};Date.prototype.getMonthName=function(a){a=a&&(a in Date.locale)?a:"en";return Date.locale[a].monthNames[this.getMonth()]};Date.prototype.getMonthNameShort=function(a){a=a&&(a in Date.locale)?a:"en";return Date.locale[a].monthNamesShort[this.getMonth()]};Date.prototype.format=function(){var e=this.getFullYear();var f=this.getMonth()+1;var b=this.getDate();var a=this.getHours();var c=this.getMinutes();var d=this.getSeconds();return e+"-"+pad(f,2)+"-"+pad(b,2)+" "+a+":"+c+":"+d};$(function(){$.datepicker.regional.tr={closeText:"kapat",prevText:"&#x3c;geri",nextText:"ileri&#x3e",currentText:"bugün",monthNames:Date.locale.tr.monthNames,monthNamesShort:Date.locale.tr.monthNamesShort,dayNames:Date.locale.tr.dayNames,dayNamesShort:Date.locale.tr.dayNamesShort,dayNamesMin:Date.locale.tr.dayNamesShort,weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};$.datepicker.setDefaults($.datepicker.regional.tr)});Array.prototype.sortBy=function(a,b){b=(b=="desc")?-1:1;return this.sort(function(f,d){var e=f[a];var c=d[a];if(e<c){return -1*b}if(e>c){return 1*b}return 0})};Array.prototype.groupBy=function(h){var a={};for(var e=0;e<this.length;e++){var g=this[e];var b=[];if(h.indexOf(".")>-1){b=h.split(".")}else{b.push(h)}var f=g;for(var c=0;c<b.length;c++){var d=b[c];f=f[d]}if(!a[f]){a[f]=[]}a[f].push(g)}return a};Array.prototype.find=function(f,e){var b=[];if(f.indexOf(".")>-1){b=f.split(".")}else{b.push(f)}for(var d=0;d<this.length;d++){var g=this[d];for(var a=0;a<b.length;a++){var c=b[a];g=g[c]}if(g==e){return this[d]}}};Array.prototype.findAll=function(g,f){var b=[];if(g.indexOf(".")>-1){b=g.split(".")}else{b.push(g)}var e=[];for(var d=0;d<this.length;d++){var h=this[d];for(var a=0;a<b.length;a++){var c=b[a];h=h[c]}if(h==f){e.push(this[d])}}return e};Array.prototype.findIndex=function(f,e){var b=[];if(f.indexOf(".")>-1){b=f.split(".")}else{b.push(f)}for(var d=0;d<this.length;d++){var g=this[d];for(var a=0;a<b.length;a++){var c=b[a];g=g[c]}if(g==e){return d}}return -1};Array.prototype.remove=function(c,b){var a=this.findIndex(c,b);if(~a){this.splice(a,1)}};Array.prototype.removeAll=function(c,b){var a=this.findIndex(c,b);if(~a){this.splice(a,1)}if(a>-1){this.removeAll(c,b)}};Array.prototype.replace=function(d,c,a){var b=this.findIndex(d,c);if(~b){this.splice(b,0,a);this.splice(b+1,1)}};Array.prototype.each=function(b){for(var a=0;a<this.length;a++){b(this[a],a)}};Date.prototype.getDateString=function(){dd=this.getDate();mm=this.getMonth()+1;yyyy=this.getFullYear();dd=(dd<10)?"0"+dd:dd;mm=(mm<10)?"0"+mm:mm;return dd+"."+mm+"."+yyyy};String.prototype.stringToDateFormat=function(){return new Date(this.substring(6,10)+"-"+this.substring(3,5)+"-"+this.substring(0,2))};var findValue=function(d,e){var b=[];if(e.indexOf(".")>-1){b=e.split(".")}else{b.push(e)}for(var a=0;a<b.length;a++){var c=b[a];d=d[c]}return d};function addStorage(a,b){if(window.localStorage){return window.localStorage.setItem(a,b)}}function getStorage(a){if(window.localStorage){return window.localStorage.getItem(a)}}function isEmail(b){var a=new RegExp(/^[a-z]{1}[\d\w\.-]+@[\d\w-]{3,}\.[\w]{2,10}(\.\w{2})?$/);return a.test(b)}function getDateDifference(e,d){var a="";var b=(d)?d:new Date().getTime();var c=Math.floor(b-e)/(1000*60);if(c<1){a="1 dk az"}else{if(c>=1&&c<60){a=parseInt(c)+"dk"}else{if(c>=60&&c<60*24){a=parseInt(c/60)+"s "+parseInt(c%60)+"dk"}else{a=parseInt(c/(60*24))+"g "+parseInt(c/60%24)+"s"}}}return a}function emptyString(a,b){return(!a||a.length==0)?b:a}function emptyStringAnd(b,a,c){return(!b||b.length==0||b===a)?c:b}function isEmpty(a){return(!a||a.length==0)?true:false}function escapeRegExp(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function replaceAll(a,c,b){return a.replace(new RegExp(escapeRegExp(c),"g"),b)}function shapingMessage(f){if(f.startsWith("upload://")){var c=JSON.parse(f.replace("upload://",""));var d='<div id="upload-'+c.id+'"><span><b>'+c.name+" ("+c.size+")</b></span>";d+='<div class="contentProgress mt8"><div class="barR tipS" style="width: 0%;"></div></div>';d+='<div style="display: none" class="error"></div></div>';return d}if(decodeHtml(f).startsWith("file://")){var c=JSON.parse(decodeHtml(f).replace("file://",""));return"<span><b>"+c.name+" ("+c.size+')</b> <a href="'+c.url+'">indir..</a></span>'}var g=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;var b=0;var e=[];f=decodeHtml(f).replace(g,function(h){b++;e.push(h);return"$"+b});f=encodeHtml(f);for(var b=0;b<e.length;b++){var a=e[b];f=f.replace("$"+(b+1),"<a target='_blank' href='"+a+"'>"+a+"</a>")}return f}function decodeHtml(b){var a=$("span#html-decoder");if(a.length==0){a=$("<span id='html-decoder'/>").appendTo(document.body).hide()}return a.html(b).text()}function encodeHtml(b){var a=$("span#html-decoder");if(a.length==0){a=$("<span id='html-decoder'/>").appendTo(document.body).hide()}return a.text(b).html()}function selectText(b){var d=document;var e=b;if(d.body.createTextRange){var a=d.body.createTextRange();a.moveToElementText(e);a.select()}else{if(window.getSelection){var c=window.getSelection();var a=d.createRange();a.selectNodeContents(e);c.removeAllRanges();c.addRange(a)}}}function parseUri(e){var d=parseUri.options,a=d.parser[d.strictMode?"strict":"loose"].exec(e),c={},b=14;while(b--){c[d.key[b]]=a[b]||""}c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(g,f,h){if(f){c[d.q.name][f]=h}});return c}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function detectSearchEngine(b,c){var e={};e.ask="q";e.yandex="text";e.yahoo="p";e.bing="q";e.google="q";var g={};g.ask=["ask.com"];g.yandex=["yandex.com","yandex.com.tr","yandex.ru"];g.yahoo=["yahoo.com"];g.bing=["bing.com"];g.google=["google.com","google.com.tr"];var f=parseUri(decodeHtml(c));for(var d in e){if(g[d].indexOf(b)>-1){var a=f.queryKey[e[d]];return{engine:d,keyword:a}}}return false}if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(a){return this.slice(0,a.length)==a}}if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(a){return this.slice(-a.length)==a}}function printPage(a,c){$("#printDiv").remove();var b=$("<div style='display: none' id='printDiv'>");b.load(a,function(){var d=window.open();d.document.open();d.document.write(b.html());setTimeout(function(){d.focus();d.print()},1000);d.document.close()})}Date.prototype.humanReadable=function(){if(this.toDateString()==new Date().toDateString()){return"Bugün, "+pad(this.getHours(),2)+":"+pad(this.getMinutes(),2)}var a=new Date();a.setDate(a.getDate()-1);if(this.toDateString()==a.toDateString()){return"Dün, "+pad(this.getHours(),2)+":"+pad(this.getMinutes(),2)}return this.toLocaleDateString()+", "+pad(this.getHours(),2)+":"+pad(this.getMinutes(),2)};function pad(c,a,b){b=b||"0";c=c+"";return c.length>=a?c:new Array(a-c.length+1).join(b)+c}var Pager=function(e,b){var c={showCounts:true,align:"left"};b=$.extend(c,b);var a=this;a.id="pager-"+e;var d=$("<div />").attr("id",a.id);this.pageTo=function(g){var f=new jQuery.Event("pager.change",{id:a.id,page:g,pageSize:a.pageSize,total:a.total});d.trigger(f);if(f.isDefaultPrevented()){return}d.find("li a.active").removeClass("active");d.find("li.pg"+g+" a:first").addClass("active")};this.getDom=function(m,o,p){a.currentPage=parseInt(m);a.pageSize=parseInt(o);a.total=parseInt(p);var j=Math.ceil(a.total/a.pageSize);var g=a.pageSize*(a.currentPage-1)+1;var k=(a.currentPage==j)?a.total:(a.pageSize*a.currentPage);var q='<div class="tCounts">'+g+" - "+k+" / "+a.total+"</div>";var h=$("<div />").addClass("tPages");h.append('<ul class="pages"></ul>');var n=a.currentPage-2;var r=a.currentPage+2;if(n<1){r-=n-1;n=1}if(r>j){n-=(r-j);n=(n<1)?1:n;r=j}var f='<li class="prev"><a href="javascript:void(0)"><span class="icon-arrow-14"></span></a></li>';if(n>2){f+='<li class="pg'+1+'"><a href="javascript:void(0)">'+1+"</a></li>";f+="<li>...</li>"}else{if(n>1){f+='<li class="pg'+1+'"><a href="javascript:void(0)">'+1+"</a></li>"}}for(var l=n;l<=r;l++){f+='<li class="pg'+l+'"><a href="javascript:void(0)">'+l+"</a></li>"}if(r<j-1){f+="<li>...</li>";f+='<li class="pg'+j+'"><a href="javascript:void(0)">'+j+"</a></li>"}else{if(r+1==j){f+='<li class="pg'+j+'"><a href="javascript:void(0)">'+j+"</a></li>"}}f+='<li class="next"><a href="javascript:void(0)"><span class="icon-arrow-17"></span></a></li>';h.find("ul.pages").html(f);h.find("li[class^='pg'] a").click(function(){if($(this).hasClass("active")){return}var i=$(this).parent().attr("class").replace("pg","");a.pageTo(parseInt(i))});h.find("li.prev").click(function(){if(a.currentPage==1){return}a.pageTo(a.currentPage-1)});h.find("li.next").click(function(){if(a.currentPage==j){return}a.pageTo(a.currentPage+1)});if(b.showCounts){d.append(q)}d.append(h);d.append("<div class='clear'></div>");d.css("text-align",b.align);h.find("li.pg"+a.currentPage+" a").addClass("active");return d};this.on=function(f,g){$("#"+a.id).on("pager."+f,g)}};function sendNotification(e,d,b,c,a){a==null?"auto":a;if(!("Notification" in window)){return}Notification.requestPermission(function(f){var g=new Notification(e,{body:d,icon:b,dir:a});setTimeout(function(){g.close()},5500);g.onclick=function(i){i.preventDefault();parent.focus();window.focus();if(c>=0){var h=context.main.basePath;if(c==0){window.location.href=h+"/app#!visitors/list";$("a#chatistegi").click()}else{if(c==1){window.location.href=h+"/app#!agents"}}}i.target.close()}})}function playSound(c,a){a=(a)?a:1;a=(a<=0)?1:a;if(!context.main.ayarlar[c]){return}var b=context.main.howlers[context.main.ayarlar[c]];if(typeof b!=="undefined"){b.play()}if(a>1){setTimeout(function(){playSound(c,--a)},2000)}}function reportBug(a){window.location="#!contact-us/report-a-bug";$("#bugForm input[name='title']").val("Hata Kodu: "+a)}function onconfirm(e,d,b){if(e){var c=$("<div/>").dialog({modal:true,title:"İşlem Onayla",height:"auto",resizable:false,draggable:false,width:400});var a="<div style='margin-top:10px;text-align:center'>";a+="<a href='javascript:void(0)' class='bGreen buttonL btn-yes'><span class='icol-check'></span>&nbsp; Evet</a>&nbsp;&nbsp;&nbsp;";a+="<a href='javascript:void(0)' class='bRed buttonL btn-no'><span class='icol-cross'></span>&nbsp; Hayır</a>";a+="</div>";c.html("<div style='text-align:center'>"+e+"</div>"+a);c.find(".btn-yes").click(function(){c.dialog("close");(d)?d():""});c.find(".btn-no").click(function(){c.dialog("close");(b)?b():""})}}function onalert(c,d){if(c){var b=$("<div/>").dialog({modal:true,title:"Uyarı Mesajı",height:"auto",resizable:false,draggable:false,width:400});var a="<div style='margin-top:10px;text-align:center'>";a+="<a href='javascript:void(0)' class='bRed buttonL btn-no'><span class='icol-cross'></span>&nbsp; Kapat</a>";a+="</div>";b.html("<div style='text-align:center'>"+c+"</div>"+a);b.find(".btn-no").click(function(){b.dialog("close");(d)?d():""})}}function getOsImage(a){if(a.toLowerCase().indexOf("win")>-1||a.toLowerCase().indexOf("windows")>-1){return"windows"}if(a.toLowerCase().indexOf("linux")>-1){return"linux"}if(a.toLowerCase().indexOf("osx")>-1||a.toLowerCase().indexOf("os x")>-1||a.toLowerCase().indexOf("mac")>-1){return"macos"}if(a.toLowerCase().indexOf("android")>-1){return"android"}if(a.toLowerCase().indexOf("ios")>-1){return"iphone"}if(a.toLowerCase().indexOf("unknown")>-1){return"alert"}}function getBrowserImage(a){if(a.toLowerCase().indexOf("safari")>-1){return"safari"}if(a.toLowerCase().indexOf("chrome")>-1){return"chrome"}if(a.toLowerCase().indexOf("firefox")>-1){return"firefox"}if(a.toLowerCase().indexOf("mobile")>-1){return"mobile"}if(a.toLowerCase().indexOf("unknown")>-1){return"robot"}return"globe"}$.fn.mask=function(d){this.find(".pending-mask").remove();var e=this.css("position");if(typeof e!=="undefined"){this.pos=e}this.css("position","relative");this.find(">*").css("opacity","0.5");this.append("<div style='width: 100%; height: 100%; position: absolute; zIndex:100; top: 0; left: 0; opacity: 0.5; background-color: #333;' class='pending-mask shadow'></div>");this.append("<div style='width: 50%; position: absolute; zIndex:101; top:50%; left: 50%' class='nNote nPending pending-mask mask'><p>"+d+"</p></div>");var c=this.find(".pending-mask.mask");var b=c.width();var a=c.height();c.css("margin",(-1*(a/2))+"px 0 0 "+(-1*(b/2))+"px");c.click(function(f){f.preventDefault()});return this.find(".pending-mask")};$.fn.unmask=function(){this.find(".pending-mask").remove();this.css("position","");if(typeof this.pos!=="undefined"){this.css("position",this.pos)}this.find(">*").css("opacity","1")};function nl2br(b){var a="<br/>";return(decodeHtml(b)+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+a+"$2")}function closeAllDialogs(){$(".ui-dialog-content").dialog("close")};